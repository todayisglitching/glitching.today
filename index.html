<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>glitching.today | @todayisglitching</title>
    <!-- Tailwind CSS for Layout -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;700&display=swap');

        :root {
            --bg-color: #050505;
            --accent-purple: #bc13fe;
            --accent-cyan: #0ff;
        }

        body {
            background-color: var(--bg-color);
            font-family: 'JetBrains Mono', monospace;
            color: #e0e0e0;
            overflow-x: hidden;
        }

        /* CRT Scanline Effect */
        .crt-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(
                rgba(18, 16, 16, 0) 50%, 
                rgba(0, 0, 0, 0.15) 50%
            ), linear-gradient(
                90deg, 
                rgba(255, 0, 0, 0.03), 
                rgba(0, 255, 0, 0.01), 
                rgba(0, 0, 255, 0.03)
            );
            background-size: 100% 3px, 2px 100%;
            pointer-events: none;
            z-index: 100;
        }

        .bg-glow {
            position: fixed;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 80vw; height: 80vh;
            background: radial-gradient(circle, rgba(188, 19, 254, 0.05) 0%, transparent 70%);
            pointer-events: none;
            z-index: -1;
            transition: all 0.15s ease-out;
        }

        /* Splash Screen / Entry */
        #splash-screen {
            position: fixed;
            inset: 0;
            background: var(--bg-color);
            z-index: 200;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: opacity 0.8s ease, visibility 0.8s;
        }

        /* Subtle & Professional Glitch Animation */
        @keyframes glitch-fine {
            0% { transform: translate(0); text-shadow: none; }
            20% { transform: translate(-1px, 0.5px); text-shadow: -1px 0 var(--accent-cyan); }
            40% { transform: translate(1px, -0.5px); text-shadow: 1px 0 var(--accent-purple); }
            60% { transform: translate(-0.5px, -0.5px); opacity: 0.9; }
            80% { transform: translate(0.5px, 0.5px); text-shadow: -0.5px 0 var(--accent-cyan); }
            100% { transform: translate(0); text-shadow: none; }
        }

        .glitch-hover {
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }

        .glitch-hover:hover {
            animation: glitch-fine 0.4s cubic-bezier(.25,.46,.45,.94) infinite;
            border-color: rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.05);
        }

        .section-card {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(8px);
        }

        .lang-active {
            color: var(--accent-cyan);
            text-shadow: 0 0 8px var(--accent-cyan);
        }

        .tab-active {
            border-bottom: 2px solid var(--accent-purple);
            color: white;
            opacity: 1 !important;
        }

        nav button {
            opacity: 0.5;
            transition: opacity 0.2s ease;
        }

        /* Music Player UI */
        .music-player {
            position: fixed;
            bottom: 24px;
            left: 50%;
            transform: translateX(-50%);
            width: calc(100% - 48px);
            max-width: 420px;
            background: rgba(5, 5, 5, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 12px 20px;
            z-index: 120;
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .progress-bar {
            position: absolute;
            top: 0;
            left: 0;
            height: 1px;
            background: var(--accent-cyan);
            box-shadow: 0 0 10px var(--accent-cyan);
            width: 0%;
            transition: width 0.1s linear;
        }

        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-track { background: #050505; }
        ::-webkit-scrollbar-thumb { background: #222; border-radius: 10px; }
    </style>
</head>
<body class="flex flex-col items-center min-h-screen p-4 md:p-12 pb-32">
    <!-- Splash Screen to trigger Audio Autoplay Policy -->
    <div id="splash-screen" onclick="initExperience()">
        <div class="mb-4 text-[10px] tracking-[0.5em] text-cyan-500 animate-pulse uppercase">Initialization...</div>
        <button class="px-8 py-3 border border-white/10 text-[11px] tracking-[0.3em] uppercase hover:bg-white/5 transition-all glitch-hover">
            Enter System
        </button>
    </div>

    <div class="crt-overlay"></div>
    <div class="bg-glow"></div>

    <!-- Language Switcher -->
    <div class="fixed top-6 right-6 z-[110] flex gap-4 text-[10px] tracking-widest font-bold uppercase cursor-pointer">
        <span id="lang-en" onclick="setLanguage('en')" class="hover:text-white transition">EN</span>
        <span class="text-gray-700">|</span>
        <span id="lang-ru" onclick="setLanguage('ru')" class="lang-active hover:text-white transition">RU</span>
    </div>

    <!-- Audio Player -->
    <div class="music-player section-card rounded-sm">
        <div id="progress" class="progress-bar"></div>
        <button id="play-pause" onclick="toggleMusic()" class="hover:text-cyan-400 transition-colors">
            <i id="play-icon" data-lucide="play" class="w-5 h-5"></i>
        </button>
        <div class="flex flex-col overflow-hidden">
            <span id="song-title" class="text-[9px] uppercase tracking-widest text-white truncate">Atmospheric Pulse</span>
            <span id="song-artist" class="text-[7px] uppercase tracking-tighter text-gray-500">Audio Protocol 1.0</span>
        </div>
        <audio id="bg-audio" loop preload="auto">
            <!-- Replace with your direct audio link -->
            <source src="static/audio/song.mp3" type="audio/mpeg">
        </audio>
    </div>

    <script>
        /**
         * MULTI-LANGUAGE CONFIGURATION
         */
        const TRANSLATIONS = {
            en: {
                status: "Active Connection",
                tabs: { main: "Links", about: "Bio", xp: "Work", skills: "Skills" },
                about: "Digital Architect, Game Designer, Developer and #BigBrain.",
                xp: [
                    { role: "Owner & PM & Investor", co: "SocialQuest", year: "2024-Present" },
                    { role: "Lead Game Designer & Narrative Designer & Owner", co: "Kill All - Data", year: "????-Present" }
                ],
                footer: "2026 © glitching.today",
                audioTitle: "mirrors demo - happy version",
                audioAuthor: "SWOX, s0rrow"
            },
            ru: {
                status: "Активное Соединение",
                tabs: { main: "Ссылки", about: "Инфо", xp: "Опыт", skills: "Скиллы" },
                about: "Цифровой архитектор, игровой дизайнер, разработчик и в прочем то просто #BigBrain.",
                xp: [
                    { role: "Владелец & PM & Инвестор", co: "SosalQuest", year: "2024-Наст." },
                    { role: "Ведущий Игровой Дизайнер & Сценарист & Создатель", co: "Kill All - Data", year: "????-Наст." }
                ],
                footer: "2026 © glitching.today",
                audioTitle: "mirrors demo - happy version",
                audioAuthor: "SWOX, s0rrow"
            }
        };

        const USER_CONFIG = {
            handle: "@todayisglitching",
            // Путь к аватару изменен на ваш локальный путь
            pfpUrl: "static/images/avatar.gif",
            skills: [".NET", "C#", "C", "Rust", "C++", "zig", ],
            portfolio: "TwitchChatMC",
            links: [
                { name: "Discord", url: "https://discord.com/users/882580439162826753", icon: "message-square" },
                { name: "Telegram", url: "https://t.me/everyofflineuser", icon: "send" },
                { name: "Telegram Channel", url: "https://t.me/bigbraincool", icon: "send" },
                { name: "Twitch", url: "https://twitch.tv/everyofflineuser", icon: "twitch" },
                { name: "Github (MAIN)", url: "https://github.com/todayisglitching", icon: "github" },
                { name: "Github (ALT)", url: "https://github.com/everyofflineuser", icon: "github" }
            ]
        };

        let currentLang = 'ru';
        const audio = document.getElementById('bg-audio');

        function initExperience() {
            const splash = document.getElementById('splash-screen');
            splash.style.opacity = '0';
            setTimeout(() => {
                splash.style.visibility = 'hidden';
            }, 800);
            
            // Start audio on user interaction
            audio.play().then(() => {
                updateIcon('pause');
            }).catch(e => console.log("Autoplay blocked:", e));
        }

        function setLanguage(lang) {
            currentLang = lang;
            document.getElementById('lang-en').classList.toggle('lang-active', lang === 'en');
            document.getElementById('lang-ru').classList.toggle('lang-active', lang === 'ru');
            render();
        }

        function toggleMusic() {
            if (audio.paused) {
                audio.play();
                updateIcon('pause');
            } else {
                audio.pause();
                updateIcon('play');
            }
        }

        function updateIcon(name) {
            const iconEl = document.getElementById('play-icon');
            iconEl.setAttribute('data-lucide', name);
            lucide.createIcons();
        }

        audio.ontimeupdate = function() {
            const progressBar = document.getElementById('progress');
            const progress = (audio.currentTime / audio.duration) * 100;
            progressBar.style.width = progress + '%';
        };

    </script>

    <main class="w-full max-w-[420px] z-10 flex flex-col items-center">
        <!-- Profile Header -->
        <div class="relative mb-6 group mt-8">
            <div class="absolute -inset-1 bg-gradient-to-r from-purple-600 to-cyan-500 rounded-full blur opacity-10 group-hover:opacity-40 transition duration-700"></div>
            <img id="pfp-el" src="" alt="Profile" 
                 onerror="this.src='https://api.dicebear.com/7.x/shapes/svg?seed=fallback'"
                 class="relative rounded-full w-24 h-24 border border-white/10 p-1 bg-black cursor-crosshair object-cover transition-transform duration-300 hover:scale-105">
        </div>

        <h1 id="handle-el" class="text-xl font-bold tracking-[0.2em] uppercase mb-1 text-white text-center"></h1>
        <div class="flex items-center gap-2 mb-8">
            <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(34,197,94,0.6)]"></span>
            <span id="status-text" class="text-[10px] text-gray-500 uppercase tracking-widest"></span>
        </div>

        <!-- Tab Navigation -->
        <nav class="flex w-full justify-between mb-8 border-b border-white/5 text-[10px] tracking-widest uppercase font-bold text-gray-500">
            <button onclick="showTab('main')" id="tab-main" class="pb-2 px-2 tab-active">Links</button>
            <button onclick="showTab('about')" id="tab-about" class="pb-2 px-2">About</button>
            <button onclick="showTab('xp')" id="tab-xp" class="pb-2 px-2">Work</button>
            <button onclick="showTab('skills')" id="tab-skills" class="pb-2 px-2">Skills</button>
        </nav>

        <!-- Content Area -->
        <div id="content-main" class="tab-content w-full space-y-4"></div>
        <div id="content-about" class="tab-content w-full hidden">
            <div class="section-card p-6 rounded-sm text-sm leading-relaxed border-l-2 border-l-purple-600">
                <p id="about-text" class="opacity-80 font-light"></p>
                <div class="mt-6">
                    <h3 class="text-[10px] text-cyan-400 uppercase tracking-widest mb-4">Latest Project</h3>
                    <div class="p-4 border border-white/5 bg-white/5 flex items-center justify-between group cursor-pointer hover:bg-white/10 transition-colors">
                        <span id="portfolio-text" class="text-xs uppercase tracking-wider"></span>
                        <i data-lucide="external-link" class="w-3 h-3 opacity-40 group-hover:opacity-100 transition-opacity"></i>
                    </div>
                </div>
            </div>
        </div>
        <div id="content-xp" class="tab-content w-full hidden space-y-4"></div>
        <div id="content-skills" class="tab-content w-full hidden">
            <div class="grid grid-cols-2 gap-3" id="skills-grid"></div>
        </div>

        <!-- Footer -->
        <footer class="mt-20 text-[10px] text-gray-700 tracking-[0.3em] uppercase flex flex-col items-center gap-2">
            <div class="w-12 h-[1px] bg-gray-800 mb-2"></div>
            <span id="footer-text"></span>
        </footer>
    </main>

    <script>
        function showTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
            document.querySelectorAll('nav button').forEach(el => el.classList.remove('tab-active'));
            document.getElementById(`content-${tabId}`).classList.remove('hidden');
            document.getElementById(`tab-${tabId}`).classList.add('tab-active');
        }

        function render() {
            const t = TRANSLATIONS[currentLang];
            document.getElementById('handle-el').textContent = USER_CONFIG.handle;
            document.getElementById('pfp-el').src = USER_CONFIG.pfpUrl;
            document.getElementById('status-text').textContent = t.status;
            document.getElementById('footer-text').textContent = t.footer;
            document.getElementById('song-title').textContent = t.audioTitle;
            document.getElementById('song-artist').textContent = t.audioAuthor;
            document.getElementById('tab-main').textContent = t.tabs.main;
            document.getElementById('tab-about').textContent = t.tabs.about;
            document.getElementById('tab-xp').textContent = t.tabs.xp;
            document.getElementById('tab-skills').textContent = t.tabs.skills;

            const linksList = document.getElementById('content-main');
            linksList.innerHTML = '';
            USER_CONFIG.links.forEach(link => {
                const a = document.createElement('a');
                a.href = link.url;
                a.target = "_blank"
                a.className = "flex items-center justify-between px-6 py-4 section-card glitch-hover rounded-sm";
                a.innerHTML = `<div class="flex items-center gap-4"><i data-lucide="${link.icon}" class="w-4 h-4 text-purple-400 opacity-80"></i><span class="text-xs uppercase tracking-[0.15em] opacity-90">${link.name}</span></div><i data-lucide="chevron-right" class="w-3 h-3 opacity-20 transition-opacity"></i>`;
                linksList.appendChild(a);
            });

            document.getElementById('about-text').textContent = t.about;
            document.getElementById('portfolio-text').textContent = USER_CONFIG.portfolio;

            const xpList = document.getElementById('content-xp');
            xpList.innerHTML = '';
            t.xp.forEach(job => {
                const div = document.createElement('div');
                div.className = "section-card p-5 border-l-2 border-l-cyan-500 hover:bg-white/5 transition-colors";
                div.innerHTML = `<div class="flex justify-between items-start mb-2"><h4 class="text-xs font-bold uppercase text-white tracking-wider">${job.role}</h4><span class="text-[8px] text-gray-600 font-bold">${job.year}</span></div><p class="text-[10px] text-gray-400 uppercase tracking-tighter opacity-70">${job.co}</p>`;
                xpList.appendChild(div);
            });

            const skillsGrid = document.getElementById('skills-grid');
            skillsGrid.innerHTML = '';
            USER_CONFIG.skills.forEach(skill => {
                const div = document.createElement('div');
                div.className = "section-card py-3 px-4 text-center text-[9px] uppercase tracking-widest border border-white/5 hover:border-white/20 transition-colors";
                div.textContent = skill;
                skillsGrid.appendChild(div);
            });

            lucide.createIcons();
        }

        document.addEventListener('mousemove', (e) => {
            const glow = document.querySelector('.bg-glow');
            glow.style.left = e.clientX + 'px';
            glow.style.top = e.clientY + 'px';
        });

        render();
    </script>
</body>
</html>